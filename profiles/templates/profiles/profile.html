{% extends "base.html" %}

{% load static %}

{% block extra_css %}
{% endblock %}

{% block content %}

<!-- profile information of registered users -->
<div class="row">
    <div class="col-sm-6">
        <div class="card checkout-card card-info-dimensions card-margin">
            <div class="card-body">
                <h5 class="card-title decoration">Profile Information</h5>
                <div class="row row-margins">

                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0 text-black font-decoration">Phone Number:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0">{{ user.userprofile.default_phone_number }}</p>
                    </div>
                    <hr>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0 text-black font-decoration">Country:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0">{{ user.userprofile.default_country }}</p>
                    </div>
                    <hr>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0 text-black font-decoration">Postcode:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0">{{ user.userprofile.default_postcode }}</p>
                    </div>
                    <hr>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0 text-black font-decoration">City:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0">{{ user.userprofile.default_town_or_city }}</p>
                    </div>
                    <hr>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0 text-black font-decoration">Street Address 1:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0">{{ user.userprofile.default_street_address1 }}</p>
                    </div>
                    <hr>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0 text-black font-decoration">Street Address 2:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0">{{ user.userprofile.default_street_address2 }}</p>
                    </div>
                    <hr>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0 text-black font-decoration">County:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6 card-dimensions">
                        <p class="mb-0">{{ user.userprofile.default_county }}</p>
                    </div>
                    <div class="row row-margins mx-auto">
                        <div class="col">
                            <a href="{% url 'update_profile' %}" class="btn btn-primary mx-auto newsletter-button">Update
                                Information</a>
                        </div>
                    </div>
                    <hr>
                    <div class="row row-margins mx-auto">
                        <div class="col">
                            <!-- option to signup to the newsletter -->
                            <h4>Paris Tours Newsletter</h4>
                            <a href="{% url 'newsletter_signup' %}" class="newsletter-color mx-auto">Subscribe</a> | 
                            <a href="{% url 'newsletter_unsubscribe' %}" class="newsletter-color mx-auto">Unsubscribe</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="card checkout-card order-dimensions card-margin">
            <div class="card-body">
                <!-- order history for logged in users -->
                <h5 class="card-title decoration">Order History</h5>
                {% for order in orders %}
                <div class="row row-margins">
                    <div class="col-12 col-md-6 .offset-md-6">
                        <p class="mb-0 text-black font-decoration">Order Number:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6">
                        <a href="{% url 'order_history' order.order_number %}"
                            title="{{ order.order_number }}">{{ order.order_number|truncatechars:6 }}</a>
                    </div>
                </div>
                <div class="row row-margins">
                    <div class="col-12 col-md-6 .offset-md-6">
                        <p class="mb-0 text-black font-decoration">Order Date:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6">
                        <p class="mb-0">{{ order.date }}</p>
                    </div>
                </div>
                <div class="row row-margins">
                    <div class="col-12 col-md-6 .offset-md-6">
                        <p class="mb-0 text-black font-decoration">Order Total:</p>
                    </div>
                    <div class="col-12 col-md-6 .offset-md-6">
                        <p class="mb-0">â‚¬ {{ order.order_total }}</p>
                    </div>
                </div>
                <hr>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

{% endblock %}